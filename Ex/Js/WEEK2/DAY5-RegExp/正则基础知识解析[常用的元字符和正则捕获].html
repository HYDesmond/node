<!DOCTYPE html><html><head><title>正则</title><meta charset='utf-8'><link href='https://dn-maxiang.qbox.me/res-min/themes/marxico.css' rel='stylesheet'><style>
.note-content  {font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif;}

</style></head><body><div id='preview-contents' class='note-content'>
                        
                    

<h2 id="正则">正则</h2>

<p></p>

<h3 id="什么是正则">什么是正则？</h3>

<blockquote>
  <p>正则就是一个规则，用来处理<strong><code>字符串</code></strong>的规则 <br>
  1、正则匹配 <br>
  编写一个规则，验证某个字符串是否符合这个规则，正则匹配使用的是 test 方法</p>
  
  <p>2、正则捕获 <br>
  编写一个规则，在一个字符串中把符合规则的内容都获取到，正则捕获使用的方法：正则的exec方法、字符串中的split、replace、match等方法都支持正则</p>
</blockquote>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^$/</span>; <span class="hljs-comment">//=&gt;两个斜杠中间包含一些内容就是正则，两个斜杠之间包含的全部内容都是元字符</span>
</div></code></pre>

<h3 id="正则的元字符和修饰符">正则的元字符和修饰符</h3>

<blockquote>
  <p>任何一个正则都是由 元字符 和 修饰符 组成的</p>
</blockquote>

<p><code>修饰符</code> <br>
g(global)：全局匹配 <br>
i(ignoreCase)：忽略大小写匹配 <br>
m(multiline)：多行匹配</p>

<p><code>元字符</code> <br>
[量词元字符] <br>
+：让前面的元字符出现一到多次 <br>
?：出现零到一次 <br>
*：出现零到多次 <br>
{n}：出现n次 <br>
{n,}：出现n到多次 <br>
{n,m}：出现n到m次</p>

<p>[特殊意义的元字符] <br>
\：转义字符（把一个普通字符转变为有特殊意义的字符，或者把一个有意义字符转换为普通的字符） <br>
.：除了\n（换行符）以外的任意字符 <br>
\d：匹配一个0~9之间的数字 <br>
\D：匹配任意一个非0~9之间的数字（大写字母和小写字母的组合正好是反向的） <br>
\w：匹配一个 <code>0~9或字母或_</code> 之间的字符 <br>
\s：匹配一个任意空白字符 <br>
\b：匹配一个边界符 <br>
x|y：匹配x或者y中的一个 <br>
[a-z]：匹配a-z中的任意一个字符 <br>
[^a-z]：和上面的相反，匹配任意一个非a-z的字符 <br>
[xyz]：匹配x或者y或者z中的一个字符 <br>
[^xyz]：匹配除了xyz以外的任意字符 <br>
()：正则的小分组，匹配一个小分组（小分组可以理解为大正则中的一个小正则） <br>
^：以某一个元字符开始 <br>
$：以某一个元字符结束 <br>
?:：只匹配不捕获 <br>
?=：正向预查 <br>
?!：负向预查 <br>
……</p>

<p>除了以上特殊元字符和量词元字符，其余的都叫做普通元字符：代表本身意义的元字符</p>

<h3 id="元字符详细解读">元字符详细解读</h3>

<p><code>^ $</code></p>

<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/\d+/</span>; <span class="hljs-comment">//=&gt;包含某某某即可，这里说明包含1到多个数字即可</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-keyword">var</span> str = <span class="hljs-string">'珠峰2017培训2018'</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>reg.test(str) =&gt;<span class="hljs-literal">true</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span>reg=<span class="hljs-regexp">/^\d+/</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span>reg.test(str) =&gt;<span class="hljs-literal">false</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span>reg=<span class="hljs-regexp">/^\d+$/</span>;<span class="hljs-comment">//=&gt;只能是某某某的,这里说明只能是1到多个数字</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span>reg.test(<span class="hljs-string">'2017'</span>); =&gt;<span class="hljs-literal">true</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span>reg.test(<span class="hljs-string">'2017珠峰2018'</span>); =&gt;<span class="hljs-literal">false</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">11.</span>reg.test(<span class="hljs-string">'2'</span>); =&gt;<span class="hljs-literal">true</span> ^或者$只是一个修饰或者声明，不会占据字符串的位置
</div></code></pre>

<p><code>\</code></p>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^2.3$/</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>reg.test(<span class="hljs-string">'2.3'</span>); =&gt;<span class="hljs-literal">true</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>reg.test(<span class="hljs-string">'2+3'</span>); =&gt;<span class="hljs-literal">true</span> 点在正则中的意思：匹配除了\n以外的任意字符，而不是单纯的小数点
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span>reg = <span class="hljs-regexp">/^2\.3$/</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span>reg.test(<span class="hljs-string">'2.3'</span>); =&gt;<span class="hljs-literal">true</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span>reg.test(<span class="hljs-string">'2+3'</span>); =&gt;<span class="hljs-literal">false</span> 使用转义字符把点转换为本身小数点的意思
</div></code></pre>

<p><code>x|y</code></p>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^18|19$/</span>;<span class="hljs-comment">//=&gt;18 19 189 119 819 181 1819 ... 很多都符合这个规则</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-comment">/*
</span></div><div class="hljs-line"><span class="hljs-comment line-number">3.</span> * 18或者19
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span> * 以1开头 以9结尾 中间是8或者1 
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span> * 以18开头或者以19结尾即可  =&gt;'18珠峰' '珠峰19'...
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span> */
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^(18|19)$/</span>;<span class="hljs-comment">//=&gt;此时只有18或者19符合我们的规则了</span>
</div></code></pre>

<blockquote>
  <p><code>()</code>：正则中的分组，也可以理解为一个大正则中的一个正则（包起来的部分是一个整体）；在正则中我们可以使用小括号<code>改变一些默认的优先级</code>；</p>
  
  <p>小分组还有第二个作用：<code>分组引用</code> <br>
   小分组的第三个作用：<code>分组捕获</code></p>
</blockquote>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-comment">//=&gt;分组引用：\1 或者 \2 ...出现和第N个分组一模一样的内容</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^([a-z])([a-z])\2([a-z])$/</span>; <span class="hljs-comment">//=&gt; 符合的字符串：foot、book、week、attr、http...</span>
</div></code></pre>

<p><code>[]</code></p>

<blockquote>
  <p>[xyz] [^xyz] [a-z] [^a-z]</p>
</blockquote>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-comment">//=&gt;\w：数组字母下划线中的任意一个字符</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^[a-zA-Z0-9_]$/</span>; <span class="hljs-comment">//=&gt;等价于\w</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span><span class="hljs-comment">//=&gt;中括号中出现的元字符，一般都代表本身的含义</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^[.?+&amp;]+$/</span>; <span class="hljs-comment">//=&gt;里面的四个元字符都是本身含义，例如：点就是小数点了，不是所谓的任意字符...</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span><span class="hljs-comment">//=&gt;需求：描述样式类名的规则（数字、字母、下划线、-），并且不能以-开头</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span><span class="hljs-comment">//var reg = /^[\w-]+$/;</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span><span class="hljs-comment">//var reg = /^[0-9a-zA-Z_-]+$/; //=&gt;没有处理以-开头的情况</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^\w[\w-]*$/</span>;
</div></code></pre>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-comment">//=&gt;需求：验证18~65之间的年龄</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-comment">//var reg = /^[18-65]$/; //=&gt;1或者8~6或者5中的任意一个字符,中括号中出现的18不是数字18，而是1或者8，当前正则是非法的：因为不能设置8~6这种范围</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span><span class="hljs-comment">//=&gt;分三个阶段处理：</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span><span class="hljs-comment">// 18 或者 19   /(18|19)/</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span><span class="hljs-comment">// 20 ~ 59     /([2-5]\d)/</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span><span class="hljs-comment">// 60 ~ 65     /(6[0-5])/</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^((18|19)|([2-5]\d)|(6[0-5]))$/</span>;
</div></code></pre>

<h3 id="常用的正则表达式编写">常用的正则表达式编写</h3>

<p><code>验证是否为有效数字</code></p>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-comment">/*
</span></div><div class="hljs-line"><span class="hljs-comment line-number">2.</span> * 可能是正数，可能是负数  12 -12
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span> * 整数或者小数 0 12 0.2 12.5 -12.3
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span> * 只要出现小数点，后面至少要跟一位数字
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span> * 小数点前面必须有数字
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span> */
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^-?(\d|([1-9]\d+))(\.\d+)?$/</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span><span class="hljs-comment">/*
</span></div><div class="hljs-line"><span class="hljs-comment line-number">9.</span> *  -? 负号可有可无
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span> *  (\d|([1-9]\d+))
</div><div class="hljs-line"><span class="hljs-comment line-number">11.</span> *     \d 一位数可以是任何值
</div><div class="hljs-line"><span class="hljs-comment line-number">12.</span> *     ([1-9]\d+) 多位数不能以零开头
</div><div class="hljs-line"><span class="hljs-comment line-number">13.</span> *  (\.\d+)? 小数部分可有可无，有的话点后面必须跟一位数字
</div><div class="hljs-line"><span class="hljs-comment line-number">14.</span> */
</div></code></pre>

<p><code>手机号码</code></p>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-comment">/*
</span></div><div class="hljs-line"><span class="hljs-comment line-number">2.</span> * 11位数字
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span> * 1开头
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span> */
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^1\d{10}$/</span>;
</div></code></pre>

<p><code>用户名：真实姓名</code></p>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-comment">//=&gt;/^[\u4E00-\u9FA5]$/ 中文汉字的正则</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^[\u4E00-\u9FA5]{2,10}(·[\u4E00-\u9FA5]{2,10})?$/</span>;
</div></code></pre>

<p><code>邮箱</code></p>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-comment">/*
</span></div><div class="hljs-line"><span class="hljs-comment line-number">3.</span> * 以数字字母下划线开头
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span> * @前面可以是 数字、字母、下划线、-、. 这些符号
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span> * 不能把 -和. 连续出现，出现一次后面必须跟数字字母下划线
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span> *  
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span> * @后面的部分支持
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span> *   企业邮箱
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span> *   .com.cn 多域名情况
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span> */
</div><div class="hljs-line"><span class="hljs-comment line-number">11.</span><span class="hljs-comment">// [A-Za-z0-9]+</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">12.</span><span class="hljs-comment">// ((\.|-)[A-Za-z0-9]+)*</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">13.</span><span class="hljs-comment">// \.[A-Za-z0-9]+</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">14.</span><span class="hljs-comment">// @163.com.cn</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">15.</span><span class="hljs-comment">// @zhu-feng-pei-xun.com.cn</span>
</div></code></pre>

<p><code>身份证号码</code></p>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-comment">/*
</span></div><div class="hljs-line"><span class="hljs-comment line-number">2.</span> * 18位
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span> * 前17位必须是数字
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span> * 最后一位可以是数字或者X(X代表数字10)
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span> *  
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span> * 130828199012040617
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span> *   前六位：省市县 130828
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span> *   接下来八位 出生年+月+日
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span> *   倒数第二位数字 奇数代表男 偶数代表女
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span> */
</div><div class="hljs-line"><span class="hljs-comment line-number">11.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^(\d{6})(\d{4})(\d{2})(\d{2})\d{2}(\d)(\d|X)$/</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">12.</span><span class="hljs-comment">//=&gt;这样写不仅可以匹配，而且以后捕获的时候，不仅可以把大正则匹配的结果捕获到，里面每一个小分组(小正则)匹配的结果也可以单独的捕获到 “分组捕获”</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">13.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">14.</span><span class="hljs-comment">//=&gt;年 1950~2017</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">15.</span><span class="hljs-comment">//=&gt;第一段 1950~1999</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">16.</span><span class="hljs-comment">//=&gt;第二段 2000~2017</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">17.</span><span class="hljs-comment">//==&gt; 00~09</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">18.</span><span class="hljs-comment">//==&gt; 10~17</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">19.</span><span class="hljs-comment">//  /^((19[5-9]\d)|(20((0\d)|(1[0-7]))))$/</span>
</div></code></pre>

<h3 id="正则捕获">正则捕获</h3>

<blockquote>
  <p>把当前字符串中符合正则的字符捕获到 <br>
  RegExp.prototype：<code>exec</code> 实现正则捕获的方法</p>
</blockquote>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> str = <span class="hljs-string">'珠峰培训2017扬帆起航2018'</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/\d+/</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span>reg.exec(str);
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span><span class="hljs-comment">/*
</span></div><div class="hljs-line"><span class="hljs-comment line-number">6.</span> * 当正则捕获的时候：
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span> * 1、先去验证当前字符串和正则是否匹配，如果不匹配返回的结果是null（没有捕获到任何的内容）
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span> * 2、如果匹配，从字符串最左边开始，向右查找到匹配的内容，并且把匹配的内容返回
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span> *  
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span> * exec捕获到结果的格式：
</div><div class="hljs-line"><span class="hljs-comment line-number">11.</span> * -&gt; 获取的结果是一个数组
</div><div class="hljs-line"><span class="hljs-comment line-number">12.</span> * -&gt; 数组中的第一项是当前本次大正则在字符串中匹配到的结果
</div><div class="hljs-line"><span class="hljs-comment line-number">13.</span> * -&gt; index：记录了当前本次捕获到结果的起始索引
</div><div class="hljs-line"><span class="hljs-comment line-number">14.</span> * -&gt; input：当前正则操作的原始字符串
</div><div class="hljs-line"><span class="hljs-comment line-number">15.</span> * -&gt; 如果当前正则中有分组，获取的数组中，从第二项开始都是每个小分组，本次匹配到的结果（通过exec可以把分组中的内容捕获到）
</div><div class="hljs-line"><span class="hljs-comment line-number">16.</span> *  
</div><div class="hljs-line"><span class="hljs-comment line-number">17.</span> * 执行一次exec只能把符合正则规则条件中的一个内容捕获都，如果还有其它符合规则的，需要在次执行exec才有可能捕获到
</div><div class="hljs-line"><span class="hljs-comment line-number">18.</span> */
</div></code></pre>

<p><code>正则捕获存在懒惰性</code></p>

<blockquote>
  <p>执行一次exec捕获到第一个符合规则的内容，第二次执行exec，捕获到的依然是第一个匹配的内容，后面匹配的内容不管执行多少次exec都无法捕获到</p>
  
  <p>解决正则捕获的懒惰性： <br>
  在正则的末尾加修饰符g（全局匹配）</p>
</blockquote>



<pre class="prettyprint with-line-number hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-comment">//=&gt;正则为什么会存在懒惰性?</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-comment">/*
</span></div><div class="hljs-line"><span class="hljs-comment line-number">3.</span> * 正则本身有一个属性：lastIndex（下一次正则在字符串中匹配查找的开始索引）
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span> * 默认值：0，从字符串第一个字符开始查找匹配的内容
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span> * 默认不管指定多少遍exec方法,正则的lastIndex值都不会变（也就是第二次以后查找的时候还是从第一个字符找，所以找到的结果永远都是第一个匹配的内容）
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span> * 而且当我们手动把 lastIndex 进行修改的时候，不会起到任何的作用
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span>*/
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span><span class="hljs-comment">//=&gt;为什么加修饰符g就解决了懒惰性?</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span><span class="hljs-comment">/* 
</span></div><div class="hljs-line"><span class="hljs-comment line-number">11.</span> * 加了修饰符g，每一次exec结束后，浏览器默认会把lastIndex值进行修改，下一次从上一次结束的位置开始查找，所以可以得到后面匹配的内容了
</div><div class="hljs-line"><span class="hljs-comment line-number">12.</span> */
</div><div class="hljs-line"><span class="hljs-comment line-number">13.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">14.</span><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/\d+/g</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">15.</span><span class="hljs-keyword">var</span> str = <span class="hljs-string">'珠峰培训2017杨帆起航2018'</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">16.</span><span class="hljs-built_in">console</span>.log(reg.lastIndex);<span class="hljs-comment">//=&gt;0</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">17.</span><span class="hljs-built_in">console</span>.log(reg.exec(str)[<span class="hljs-number">0</span>]);<span class="hljs-comment">//=&gt;'2017'</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">18.</span><span class="hljs-built_in">console</span>.log(reg.lastIndex);<span class="hljs-comment">//=&gt;8</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">19.</span><span class="hljs-built_in">console</span>.log(reg.exec(str)[<span class="hljs-number">0</span>]);<span class="hljs-comment">//=&gt;'2018'</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">20.</span><span class="hljs-built_in">console</span>.log(reg.lastIndex);<span class="hljs-comment">//=&gt;16</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">21.</span><span class="hljs-built_in">console</span>.log(reg.exec(str));<span class="hljs-comment">//=&gt;null</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">22.</span><span class="hljs-built_in">console</span>.log(reg.lastIndex);<span class="hljs-comment">//=&gt;0</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">23.</span><span class="hljs-built_in">console</span>.log(reg.exec(str)[<span class="hljs-number">0</span>]);<span class="hljs-comment">//=&gt;'2017'</span>
</div></code></pre></div></body></html>